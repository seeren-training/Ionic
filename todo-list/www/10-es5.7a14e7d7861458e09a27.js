!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{zrKR:function(n,o,i){"use strict";i.r(o),i.d(o,"TodosModule",(function(){return R}));var r,c,s=i("ofXK"),a=i("tyNb"),u=i("fXoL"),b=i("XNiG"),l=((r=function(){function n(){t(this,n),this.subject=new b.a,this.state=!1,this.observable=this.subject.asObservable()}return e(n,[{key:"start",value:function(){return this.next(!0)}},{key:"stop",value:function(){return this.next(!1)}},{key:"next",value:function(t){return t!==this.state&&(this.state=t,this.subject.next(this.state),!0)}}]),n}()).\u0275fac=function(t){return new(t||r)},r.\u0275prov=u.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r),f=i("tk/3"),d=i("3Pt+"),g=i("LRne"),h=i("vkgz"),p=i("AytR"),v=function(t){return t.TODO="TODO",t.DOING="DOING",t.DONE="DONE",t}({}),m=((c=function(){function n(e,o,i){t(this,n),this.builderService=e,this.http=o,this.loading=i,this.form=this.builderService.group({name:["",d.j.required],description:["",d.j.required]})}return e(n,[{key:"get",value:function(){var t=this;return this.todoList?Object(g.a)(this.todoList):(this.loading.start(),this.http.get(p.a.jsonbin.url,{headers:new f.c({"secret-key":p.a.jsonbin.key})}).pipe(Object(h.a)((function(n){t.loading.stop(),t.todoList=n}))))}},{key:"post",value:function(t){var n=this;return this.todoList.push(t),this.loading.start(),this.put(this.todoList).pipe(Object(h.a)((function(){return n.loading.stop()}),(function(){return n.todoList.pop()})))}},{key:"put",value:function(t){return this.http.put(p.a.jsonbin.url,t,{headers:new f.c({"secret-key":p.a.jsonbin.key,versioning:"false","Content-Type":"application/json"})})}},{key:"delete",value:function(t){var n=this,e=this.todoList.indexOf(t);return this.todoList.splice(e,1),this.loading.start(),this.put(this.todoList).pipe(Object(h.a)((function(){return n.loading.stop()}),(function(){return n.todoList.splice(e,0,t)})))}},{key:"doing",value:function(){var t=this;if(!this.form.valid)return this.get();var n={name:this.form.get("name").value,description:this.form.get("description").value,state:v.DOING};return this.post(n).pipe(Object(h.a)((function(){return t.form.reset()})))}},{key:"done",value:function(t){var n=this;return v.DONE==t.state?this.delete(t):(t.state=v.DONE,this.loading.start(),this.put(this.todoList).pipe(Object(h.a)((function(){return n.loading.stop()}),(function(){return t.state=v.DOING}))))}},{key:"findByName",value:function(t){return this.todo=this.todoList.find((function(n){return t===n.name}))}}]),n}()).\u0275fac=function(t){return new(t||c)(u.Ob(d.a),u.Ob(f.a),u.Ob(l))},c.\u0275prov=u.Db({token:c,factory:c.\u0275fac,providedIn:"root"}),c),y=i("TEn/");function O(t,n){1&t&&(u.Kb(0,"ion-item"),u.Kb(1,"ion-avatar",4),u.Ib(2,"ion-skeleton-text",5),u.Jb(),u.Kb(3,"ion-label"),u.Ib(4,"ion-skeleton-text",6),u.Ib(5,"ion-skeleton-text",6),u.Jb(),u.Jb())}var k=function(){return[0,1,2,3,4]};function S(t,n){1&t&&(u.Kb(0,"ion-list"),u.fc(1,O,6,0,"ion-item",3),u.Jb()),2&t&&(u.xb(1),u.Xb("ngForOf",u.Yb(1,k)))}function w(t,n){if(1&t&&(u.Kb(0,"ion-grid"),u.Kb(1,"ion-row",7),u.Kb(2,"ion-col",8),u.hc(3),u.Jb(),u.Jb(),u.Jb()),2&t){var e=u.Ub(2);u.xb(3),u.jc(" ",0===(null==e.todoList?null:e.todoList.length)?"Let's start by adding a Todo":"An error occurs"," ")}}function x(t,n){if(1&t&&u.fc(0,w,4,1,"ion-grid",0),2&t){var e=u.Ub(),o=u.bc(4);u.Xb("ngIf",!(e.loadingService.state||null!=e.todoList&&e.todoList.length))("ngIfElse",o)}}var I=function(t){return[t]};function C(t,n){if(1&t&&(u.Kb(0,"ion-item",10),u.Ib(1,"ion-icon",11),u.Kb(2,"ion-label"),u.Kb(3,"h2"),u.hc(4),u.Jb(),u.Kb(5,"p"),u.hc(6),u.Jb(),u.Jb(),u.Jb()),2&t){var e=n.$implicit;u.Xb("routerLink",u.Zb(5,I,e.name))("color","DOING"==e.state?"success":"danger"),u.xb(1),u.Xb("name","DOING"==e.state?"flag-outline":"close"),u.xb(3),u.ic(e.name),u.xb(2),u.ic(e.description)}}function J(t,n){if(1&t&&(u.Kb(0,"ion-list"),u.fc(1,C,7,7,"ion-item",9),u.Jb()),2&t){var e=u.Ub();u.xb(1),u.Xb("ngForOf",e.todoList)}}var K,j=((K=function(){function n(e,o){t(this,n),this.loadingService=e,this.todoService=o}return e(n,[{key:"ngOnInit",value:function(){this.show()}},{key:"show",value:function(){var t=this;this.todoService.get().subscribe((function(n){return t.todoList=n}))}}]),n}()).\u0275fac=function(t){return new(t||K)(u.Hb(l),u.Hb(m))},K.\u0275cmp=u.Bb({type:K,selectors:[["app-todo-list"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["list",""],[4,"ngFor","ngForOf"],["slot","start"],["animated",""],["animated","",2,"width","100%"],[1,"ion-align-items-center","ion-justify-content-center","empty-message"],["size","6"],[3,"routerLink","color",4,"ngFor","ngForOf"],[3,"routerLink","color"],["slot","start",3,"name"]],template:function(t,n){if(1&t&&(u.fc(0,S,2,2,"ion-list",0),u.fc(1,x,1,2,"ng-template",null,1,u.gc),u.fc(3,J,2,1,"ng-template",null,2,u.gc)),2&t){var e=u.bc(2);u.Xb("ngIf",n.loadingService.state)("ngIfElse",e)}},directives:[s.i,y.n,s.h,y.l,y.b,y.r,y.m,y.h,y.q,y.e,a.h,y.y,y.j],styles:["[_nghost-%COMP%]{display:flex;min-height:100%}ion-list[_ngcontent-%COMP%]{padding:0;width:100%}.empty-message[_ngcontent-%COMP%]{text-align:center;height:100%;font-weight:200}"]}),K),L=i("jhN1");function P(t,n){if(1&t&&(u.Kb(0,"ion-col",4),u.Kb(1,"h2",5),u.hc(2),u.Jb(),u.Kb(3,"p",6),u.hc(4),u.Jb(),u.Jb()),2&t){var e=u.Ub();u.xb(2),u.jc(" ",e.todo.name," "),u.xb(2),u.jc(" ",e.todo.description," ")}}function M(t,n){if(1&t&&(u.Kb(0,"form",8),u.Kb(1,"ion-item",5),u.Kb(2,"ion-label",9),u.hc(3,"Todo"),u.Jb(),u.Ib(4,"ion-input",10),u.Jb(),u.Kb(5,"ion-item",6),u.Kb(6,"ion-label",9),u.hc(7,"Description"),u.Jb(),u.Ib(8,"ion-textarea",11),u.Jb(),u.Jb()),2&t){var e=u.Ub(2);u.Xb("formGroup",e.form)}}function _(t,n){if(1&t&&u.fc(0,M,9,1,"form",7),2&t){var e=u.Ub();u.Xb("ngIf",e.form)}}var D,N=((D=function(){function n(e,o,i,r,c){t(this,n),this.loadingService=e,this.titleService=o,this.routeService=i,this.routerService=r,this.todoService=c}return e(n,[{key:"ngOnInit",value:function(){var t=this;this.titleService.setTitle("Todo"),this.todoService.get().subscribe((function(){var n=t.routeService.snapshot.params.name;n?(t.todo=t.todoService.findByName(n))||t.routerService.navigate(["/"]):t.form=t.todoService.form}))}}]),n}()).\u0275fac=function(t){return new(t||D)(u.Hb(l),u.Hb(L.b),u.Hb(a.a),u.Hb(a.g),u.Hb(m))},D.\u0275cmp=u.Bb({type:D,selectors:[["app-todo"]],decls:5,vars:8,consts:[[1,"ion-no-padding"],[1,"ion-align-items-center","ion-justify-content-center"],["size","9",4,"ngIf","ngIfElse"],["todoForm",""],["size","9"],[1,"name"],[1,"description"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["position","floating"],["formControlName","name"],["formControlName","description"]],template:function(t,n){if(1&t&&(u.Kb(0,"ion-grid",0),u.Kb(1,"ion-row",1),u.fc(2,P,5,2,"ion-col",2),u.Jb(),u.Jb(),u.fc(3,_,1,1,"ng-template",null,3,u.gc)),2&t){var e=u.bc(4);u.xb(1),u.zb("doing","DOING"==(null==n.todo?null:n.todo.state))("done","DONE"==(null==n.todo?null:n.todo.state))("todo",n.form),u.xb(1),u.Xb("ngIf",n.todo)("ngIfElse",e)}},directives:[y.h,y.q,s.i,y.e,d.k,d.h,d.c,y.l,y.m,y.k,y.z,d.g,d.b,y.s],styles:["[_nghost-%COMP%]{display:flex;min-height:100%;justify-content:center}form[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:transparent;--color:var(--ion-color-light)}form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{text-align:center}ion-row[_ngcontent-%COMP%]{color:var(--ion-color-light);height:100%;padding-bottom:2em}ion-row.todo[_ngcontent-%COMP%]{background-color:var(--ion-color-primary)}ion-row.doing[_ngcontent-%COMP%]{background-color:var(--ion-color-success)}ion-row.done[_ngcontent-%COMP%]{background-color:var(--ion-color-danger)}ion-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:300;font-size:3em}ion-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:300;font-size:.8m}"]}),D);function X(t,n){if(1&t){var e=u.Lb();u.Kb(0,"ion-buttons",6),u.Sb("click",(function(){return u.cc(e),u.Ub().locationService.back()})),u.Kb(1,"ion-button",7),u.Ib(2,"ion-icon",8),u.Jb(),u.Jb()}}function E(t,n){1&t&&u.Ib(0,"ion-progress-bar",9)}function T(t,n){if(1&t&&(u.Kb(0,"ion-button",10),u.hc(1,"Todo"),u.Jb()),2&t){var e=u.Ub();u.Xb("disabled",e.loadingService.state)}}function H(t,n){if(1&t){var e=u.Lb();u.Kb(0,"ion-button",11),u.Sb("click",(function(){return u.cc(e),u.Ub().doing()})),u.hc(1,"Doing"),u.Jb()}if(2&t){var o=u.Ub();u.Xb("disabled",o.loadingService.state)}}function U(t,n){if(1&t){var e=u.Lb();u.Kb(0,"ion-button",12),u.Sb("click",(function(){return u.cc(e),u.Ub().done()})),u.hc(1," Done "),u.Jb()}if(2&t){var o=u.Ub();u.Xb("disabled",o.loadingService.state)}}var G,z,F,B=[{path:"",component:(G=function(){function n(e,o,i,r,c,s){t(this,n),this.changeService=e,this.routerService=o,this.todoService=i,this.titleService=r,this.locationService=c,this.loadingService=s}return e(n,[{key:"ngOnInit",value:function(){var t=this;this.routerService.events.subscribe((function(n){n instanceof a.c&&(t.titleService.setTitle("Todo's"),t.url=t.routerService.url)}))}},{key:"ngAfterContentChecked",value:function(){this.changeService.detectChanges()}},{key:"done",value:function(){var t=this;this.todoService.done(this.todoService.todo).subscribe((function(){return t.routerService.navigate(["/"])}))}},{key:"doing",value:function(){var t=this;this.todoService.doing().subscribe((function(){return t.routerService.navigate(["/"])}))}}]),n}(),G.\u0275fac=function(t){return new(t||G)(u.Hb(u.h),u.Hb(a.g),u.Hb(m),u.Hb(L.b),u.Hb(s.f),u.Hb(l))},G.\u0275cmp=u.Bb({type:G,selectors:[["app-todos"]],decls:13,vars:6,consts:[["slot","start",3,"click",4,"ngIf"],["type","indeterminate",4,"ngIf"],[3,"ngSwitch"],["routerLink","/new","expand","full","color","primary",3,"disabled",4,"ngSwitchCase"],["expand","full","color","success",3,"disabled","click",4,"ngSwitchCase"],["expand","full","color","danger",3,"disabled","click",4,"ngSwitchDefault"],["slot","start",3,"click"],["color","dark"],["slot","icon-only","name","arrow-back-outline"],["type","indeterminate"],["routerLink","/new","expand","full","color","primary",3,"disabled"],["expand","full","color","success",3,"disabled","click"],["expand","full","color","danger",3,"disabled","click"]],template:function(t,n){1&t&&(u.Kb(0,"ion-app"),u.Kb(1,"ion-header"),u.Kb(2,"ion-toolbar"),u.fc(3,X,3,0,"ion-buttons",0),u.Kb(4,"ion-title"),u.hc(5),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-content"),u.fc(7,E,1,0,"ion-progress-bar",1),u.Ib(8,"router-outlet"),u.Jb(),u.Kb(9,"ion-footer",2),u.fc(10,T,2,1,"ion-button",3),u.fc(11,H,2,1,"ion-button",4),u.fc(12,U,2,1,"ion-button",5),u.Jb(),u.Jb()),2&t&&(u.xb(3),u.Xb("ngIf","/"!==n.url),u.xb(2),u.ic(n.titleService.getTitle()),u.xb(2),u.Xb("ngIf",n.loadingService.state),u.xb(2),u.Xb("ngSwitch",n.url),u.xb(1),u.Xb("ngSwitchCase","/"),u.xb(1),u.Xb("ngSwitchCase","/new"))},directives:[y.a,y.i,y.u,s.i,y.t,y.f,a.j,y.g,s.j,s.k,s.l,y.d,y.c,y.j,y.o,a.h,y.y],styles:["ion-progress-bar[_ngcontent-%COMP%]{position:absolute;z-index:9}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0!important;height:3.5rem}"]}),G),children:[{path:"",component:j},{path:"new",component:N},{path:":name",component:N}]}],q=((z=function n(){t(this,n)}).\u0275mod=u.Fb({type:z}),z.\u0275inj=u.Eb({factory:function(t){return new(t||z)},imports:[[a.i.forChild(B)]]}),z),A=i("PCNd"),R=((F=function n(){t(this,n)}).\u0275mod=u.Fb({type:F}),F.\u0275inj=u.Eb({factory:function(t){return new(t||F)},imports:[[s.b,A.a,q]]}),F)}}])}();