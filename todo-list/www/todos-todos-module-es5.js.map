{"version":3,"sources":["webpack:///src/app/todos/todo-list/todo-list.component.html","webpack:///src/app/todos/todo/todo.component.html","webpack:///src/app/todos/todos.component.html","webpack:///src/app/shared/services/loading.service.ts","webpack:///src/app/todos/shared/state.enum.model.ts","webpack:///src/app/todos/shared/todo.service.ts","webpack:///src/app/todos/todo-list/todo-list.component.scss","webpack:///src/app/todos/todo-list/todo-list.component.ts","webpack:///src/app/todos/todo/todo.component.scss","webpack:///src/app/todos/todo/todo.component.ts","webpack:///src/app/todos/todos-routing.module.ts","webpack:///src/app/todos/todos.component.scss","webpack:///src/app/todos/todos.component.ts","webpack:///src/app/todos/todos.module.ts"],"names":["LoadingService","subject","state","observable","asObservable","next","providedIn","State","TodoService","builderService","http","loading","form","group","name","required","description","todoList","start","get","jsonbin","url","headers","key","pipe","stop","reverse","todo","push","put","pop","index","indexOf","splice","value","DOING","post","reset","DONE","find","TodoListComponent","loadingService","todoService","show","subscribe","selector","template","TodoComponent","titleService","routeService","routerService","setTitle","snapshot","params","findByName","navigate","routes","path","component","children","TodosRoutingModule","imports","forChild","TodosComponent","changeService","locationService","events","event","detectChanges","done","doing","TodosModule","declarations"],"mappings":"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","file":"todos-todos-module-es5.js","sourcesContent":["export default \"<ion-list *ngIf=\\\"loadingService.state else loading\\\">\\n  <ion-item *ngFor=\\\"let number of [0, 1, 2, 3, 4]\\\">\\n    <ion-avatar slot=\\\"start\\\">\\n      <ion-skeleton-text animated></ion-skeleton-text>\\n    </ion-avatar>\\n    <ion-label>\\n      <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n    </ion-label>\\n  </ion-item>\\n</ion-list>\\n\\n<ng-template #loading>\\n  <ion-grid *ngIf=\\\"!loadingService.state && !todoList?.length else list\\\">\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center empty-message\\\">\\n      <ion-col size=\\\"6\\\">\\n        {{ 0 === todoList?.length ? \\\"Let's start by adding a Todo\\\" : \\\"An error occurs\\\" }}\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ng-template>\\n\\n<ng-template #list>\\n  <ion-list>\\n    <ion-item [routerLink]=\\\"[todo.name]\\\" *ngFor=\\\"let todo of todoList\\\" [color]=\\\"todo.state == 'DOING' ? 'success' : 'danger'\\\">\\n      <ion-icon [name]=\\\"todo.state == 'DOING' ? 'flag-outline' : 'close'\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>\\n        <h2>{{ todo.name }}</h2>\\n        <p>{{ todo.description }}</p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ng-template>\";","export default \"<ion-grid class=\\\"ion-no-padding\\\">\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\" [class.doing]=\\\"todo?.state == 'DOING'\\\"\\n        [class.done]=\\\"todo?.state == 'DONE'\\\" [class.todo]=\\\"form\\\">\\n        <ion-col *ngIf=\\\"todo else todoForm\\\" size=\\\"9\\\">\\n            <h2 class=\\\"name\\\">\\n                {{ todo.name}}\\n            </h2>\\n            <p class=\\\"description\\\">\\n                {{ todo.description }}\\n            </p>\\n        </ion-col>\\n    </ion-row>\\n</ion-grid>\\n\\n<ng-template #todoForm>\\n    <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n        <ion-item class=\\\"name\\\">\\n            <ion-label position=\\\"floating\\\">Todo</ion-label>\\n            <ion-input formControlName=\\\"name\\\"></ion-input>\\n        </ion-item>\\n        <ion-item class=\\\"description\\\">\\n            <ion-label position=\\\"floating\\\">Description</ion-label>\\n            <ion-textarea formControlName=\\\"description\\\"></ion-textarea>\\n        </ion-item>\\n    </form>\\n</ng-template>\";","export default \"<ion-app>\\r\\n    <ion-header>\\r\\n        <ion-toolbar>\\r\\n            <ion-buttons *ngIf=\\\"'/' !== url\\\" slot=\\\"start\\\" (click)=\\\"locationService.back()\\\">\\r\\n                <ion-button color=\\\"dark\\\">\\r\\n                    <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back-outline\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n            </ion-buttons>\\r\\n            <ion-title>{{ titleService.getTitle() }}</ion-title>\\r\\n        </ion-toolbar>\\r\\n    </ion-header>\\r\\n    <ion-content>\\r\\n        <ion-progress-bar *ngIf=\\\"loadingService.state\\\" type=\\\"indeterminate\\\"></ion-progress-bar>\\r\\n        <router-outlet></router-outlet>\\r\\n    </ion-content>\\r\\n    <ion-footer [ngSwitch]=\\\"url\\\">\\r\\n        <ion-button *ngSwitchCase=\\\"'/'\\\" [disabled]=\\\"loadingService.state\\\" routerLink=\\\"/new\\\" expand=\\\"full\\\"\\r\\n            color=\\\"primary\\\">Todo</ion-button>\\r\\n        <ion-button *ngSwitchCase=\\\"'/new'\\\" [disabled]=\\\"loadingService.state\\\" (click)=\\\"doing()\\\" expand=\\\"full\\\"\\r\\n            color=\\\"success\\\">Doing</ion-button>\\r\\n        <ion-button *ngSwitchDefault (click)=\\\"done()\\\" [disabled]=\\\"loadingService.state\\\" expand=\\\"full\\\" color=\\\"danger\\\">\\r\\n            Done\\r\\n        </ion-button>\\r\\n    </ion-footer>\\r\\n</ion-app>\";","import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingService {\n\n  private subject: Subject<boolean> = new Subject();\n\n  public state: boolean = false;\n\n  public observable: Observable<boolean> = this.subject.asObservable();\n\n  start(): boolean {\n    return this.next(true);\n  }\n\n  stop(): boolean {\n    return this.next(false);\n  }\n\n  next(state: boolean): boolean {\n    if (state !== this.state) {\n      this.state = state;\n      this.subject.next(this.state);\n      return true;\n    }\n    return false;\n  }\n\n}\n","export enum State {\r\n\r\n    TODO = 'TODO',\r\n\r\n    DOING = 'DOING',\r\n\r\n    DONE = 'DONE'\r\n\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { Observable, of } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nimport { environment } from 'src/environments/environment';\nimport { LoadingService } from 'src/app/shared/services/loading.service';\nimport { Todo } from './todo.model';\nimport { State } from './state.enum.model';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TodoService {\n\n  public form: FormGroup;\n\n  public todo: Todo;\n\n  public todoList: Todo[];\n\n  /**\n   * @param http \n   */\n  constructor(\n    private builderService: FormBuilder,\n    private http: HttpClient,\n    private loading: LoadingService\n  ) {\n    this.form = this.builderService.group({\n      name: [\"\", Validators.required],\n      description: [\"\", Validators.required]\n    });\n  }\n\n  /**\n   * @returns Observable<Todo[]>\n   */\n  get(): Observable<Todo[]> {\n    if (this.todoList) {\n      return of(this.todoList);\n    }\n    this.loading.start();\n    return this.http\n      .get<Todo[]>(environment.jsonbin.url, {\n        headers: new HttpHeaders({ \"secret-key\": environment.jsonbin.key })\n      })\n      .pipe(\n        tap((todoList: Todo[]) => {\n          this.loading.stop();\n          this.todoList = todoList.reverse();\n        })\n      );\n  }\n\n  /**\n   * @param todo \n   */\n  post(todo: Todo): Observable<Todo[]> {\n    this.todoList.push(todo);\n    this.loading.start();\n    return this.put(this.todoList).pipe(\n      tap(\n        () => this.loading.stop(),\n        () => this.todoList.pop(),\n      )\n    );\n  }\n\n  /**\n   * @param todoList \n   */\n  private put(todoList: Todo[]): Observable<Todo[]> {\n    return this.http\n      .put<Todo[]>(environment.jsonbin.url, todoList, {\n        headers: new HttpHeaders({\n          \"secret-key\": environment.jsonbin.key,\n          \"versioning\": \"false\",\n          \"Content-Type\": \"application/json\"\n        })\n      });\n  }\n\n  /**\n   * @param todo \n   */\n  delete(todo: Todo) {\n    const index = this.todoList.indexOf(todo);\n    this.todoList.splice(index, 1);\n    this.loading.start();\n    return this.put(this.todoList).pipe(\n      tap(\n        () => this.loading.stop(),\n        () => this.todoList.splice(index, 0, todo)\n      )\n    );\n  }\n\n  doing() {\n    const todo: Todo = {\n      name: this.form.get('name').value,\n      description: this.form.get('description').value,\n      state: State.DOING\n    };\n    return this.post(todo).pipe(tap(() => this.form.reset()));\n  }\n\n  done(todo: Todo): Observable<Todo[]> {\n    if (State.DONE == todo.state) {\n      return this.delete(todo);\n    }\n    todo.state = State.DONE;\n    this.loading.start();\n    return this.put(this.todoList).pipe(\n      tap(\n        () => this.loading.stop(),\n        () => todo.state = State.DOING,\n      )\n    );\n  }\n\n  /**\n   * @param name \n   */\n  findByName(name: string): Todo {\n    return this.todo = this.todoList.find((todo: Todo) => name === todo.name);\n  }\n\n}\n","export default \":host {\\n  display: flex;\\n  min-height: 100%;\\n}\\n\\nion-list {\\n  padding: 0;\\n  width: 100%;\\n}\\n\\n.empty-message {\\n  text-align: center;\\n  height: 100%;\\n  font-weight: 200;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdG9kb3MvdG9kby1saXN0L3RvZG8tbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxnQkFBQTtBQUNKOztBQUNBO0VBQ0ksVUFBQTtFQUNBLFdBQUE7QUFFSjs7QUFBQTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBR0oiLCJmaWxlIjoic3JjL2FwcC90b2Rvcy90b2RvLWxpc3QvdG9kby1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIG1pbi1oZWlnaHQ6IDEwMCU7XHJcbn1cclxuaW9uLWxpc3Qge1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcbi5lbXB0eS1tZXNzYWdlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGZvbnQtd2VpZ2h0OiAyMDA7XHJcbn1cclxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { LoadingService } from 'src/app/shared/services/loading.service';\n\nimport { Todo } from '../shared/todo.model';\nimport { TodoService } from '../shared/todo.service';\n\n\n@Component({\n  selector: 'app-todo-list',\n  templateUrl: './todo-list.component.html',\n  styleUrls: ['./todo-list.component.scss'],\n})\nexport class TodoListComponent implements OnInit {\n\n  public todoList: Todo[];\n\n  constructor(\n    public loadingService: LoadingService,\n    private todoService: TodoService\n  ) { }\n\n  ngOnInit(): void {\n    this.show();\n  }\n\n  show(): void {\n    this.todoService.get().subscribe((todoList: Todo[]) => this.todoList = todoList);\n  }\n\n}\n","export default \":host {\\n  display: flex;\\n  min-height: 100%;\\n  justify-content: center;\\n}\\n\\nform {\\n  text-align: center;\\n}\\n\\nform ion-item {\\n  --background: transparent;\\n  --color: var(--ion-color-light);\\n}\\n\\nform .name,\\nform .description {\\n  text-align: center;\\n}\\n\\nion-row {\\n  color: var(--ion-color-light);\\n  text-align: center;\\n  height: 100%;\\n  padding-bottom: 2em;\\n}\\n\\nion-row.todo {\\n  background-color: var(--ion-color-primary);\\n}\\n\\nion-row.doing {\\n  background-color: var(--ion-color-success);\\n}\\n\\nion-row.done {\\n  background-color: var(--ion-color-danger);\\n}\\n\\nion-row .name {\\n  font-weight: 300;\\n  font-size: 3em;\\n}\\n\\nion-row .description {\\n  font-weight: 300;\\n  font-size: 0.8m;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdG9kb3MvdG9kby90b2RvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0FBQ0o7O0FBQUk7RUFDSSx5QkFBQTtFQUNBLCtCQUFBO0FBRVI7O0FBQUk7O0VBRUksa0JBQUE7QUFFUjs7QUFDQTtFQUNJLDZCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFESTtFQUNJLDBDQUFBO0FBR1I7O0FBREk7RUFDSSwwQ0FBQTtBQUdSOztBQURJO0VBQ0kseUNBQUE7QUFHUjs7QUFESTtFQUNJLGdCQUFBO0VBQ0EsY0FBQTtBQUdSOztBQURJO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0FBR1IiLCJmaWxlIjoic3JjL2FwcC90b2Rvcy90b2RvL3RvZG8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgbWluLWhlaWdodDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG5mb3JtIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGlvbi1pdGVtIHtcclxuICAgICAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XHJcbiAgICB9XHJcbiAgICAubmFtZSxcclxuICAgIC5kZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgfVxyXG59XHJcbmlvbi1yb3cge1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMmVtO1xyXG4gICAgJi50b2RvIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbiAgICB9XHJcbiAgICAmLmRvaW5nIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XHJcbiAgICB9XHJcbiAgICAmLmRvbmUge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG4gICAgfVxyXG4gICAgLm5hbWUge1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XHJcbiAgICAgICAgZm9udC1zaXplOiAzZW07XHJcbiAgICB9XHJcbiAgICAuZGVzY3JpcHRpb24ge1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XHJcbiAgICAgICAgZm9udC1zaXplOiAwLjhtO1xyXG4gICAgfVxyXG59XHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Title } from '@angular/platform-browser';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { LoadingService } from 'src/app/shared/services/loading.service';\nimport { Todo } from '../shared/todo.model';\nimport { TodoService } from '../shared/todo.service';\n\n\n@Component({\n  selector: 'app-todo',\n  templateUrl: './todo.component.html',\n  styleUrls: ['./todo.component.scss'],\n})\nexport class TodoComponent implements OnInit {\n\n  public form: FormGroup;\n\n  public todo: Todo;\n\n  /**\n   * @param todoService \n   */\n  constructor(\n    public loadingService: LoadingService,\n    private titleService: Title,\n    private routeService: ActivatedRoute,\n    private routerService: Router,\n    private todoService: TodoService) { }\n\n  ngOnInit(): void {\n    this.titleService.setTitle(\"Todo\");\n    this.todoService.get().subscribe(\n      () => {\n        const name = this.routeService.snapshot.params.name;\n        if (!name) {\n          this.form = this.todoService.form;\n        } else if (!(this.todo = this.todoService.findByName(name))) {\n          this.routerService.navigate([\"/\"]);\n        }\n      });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TodoListComponent } from './todo-list/todo-list.component';\nimport { TodoComponent } from './todo/todo.component';\nimport { TodosComponent } from './todos.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodosComponent,\n    children: [\n      {\n        path: '',\n        component: TodoListComponent\n      },\n      {\n        path: 'new',\n        component: TodoComponent\n      },\n      {\n        path: ':name',\n        component: TodoComponent\n      }\n    ]\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)]\n})\nexport class TodosRoutingModule { }\n","export default \"ion-progress-bar {\\n  position: absolute;\\n  z-index: 9;\\n}\\n\\nion-footer ion-button {\\n  margin: 0 !important;\\n  height: 3.5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdG9kb3MvdG9kb3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7QUFDSjs7QUFFSTtFQUNJLG9CQUFBO0VBQ0EsY0FBQTtBQUNSIiwiZmlsZSI6InNyYy9hcHAvdG9kb3MvdG9kb3MuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tcHJvZ3Jlc3MtYmFyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDk7XHJcbn1cclxuaW9uLWZvb3RlciB7XHJcbiAgICBpb24tYnV0dG9uIHtcclxuICAgICAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcclxuICAgICAgICBoZWlnaHQ6IDMuNXJlbTtcclxuICAgIH1cclxufVxyXG4iXX0= */\";","import { AfterContentChecked, ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router, Event, NavigationEnd } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\n\nimport { LoadingService } from '../shared/services/loading.service';\nimport { TodoService } from './shared/todo.service';\n\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.scss'],\n})\nexport class TodosComponent implements OnInit, AfterContentChecked {\n\n  public url: String;\n\n  constructor(\n    private changeService: ChangeDetectorRef,\n    private routerService: Router,\n    private todoService: TodoService,\n    public titleService: Title,\n    public locationService: Location,\n    public loadingService: LoadingService,\n  ) { }\n\n  ngOnInit(): void {\n    this.routerService.events.subscribe(\n      (event: Event) => {\n        if (event instanceof NavigationEnd) {\n          this.titleService.setTitle(\"Todo's\");\n          this.url = this.routerService.url;\n        }\n      }\n    );\n  }\n\n  ngAfterContentChecked(): void {\n    this.changeService.detectChanges();\n  }\n\n  done(): void {\n    this.todoService\n      .done(this.todoService.todo)\n      .subscribe(() => this.routerService.navigate(['/']))\n  }\n\n  doing(): void {\n    this.todoService\n      .doing()\n      .subscribe(() => this.routerService.navigate(['/']))\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TodosComponent } from './todos.component';\nimport { TodoComponent } from './todo/todo.component';\nimport { TodoListComponent } from './todo-list/todo-list.component';\nimport { TodosRoutingModule } from './todos-routing.module';\nimport { SharedModule } from '../shared/shared.module';\n\n\n@NgModule({\n  declarations: [\n    TodosComponent,\n    TodoComponent,\n    TodoListComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    TodosRoutingModule,\n  ],\n})\nexport class TodosModule { }\n"]}