(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{zrKR:function(t,n,o){"use strict";o.r(n),o.d(n,"TodosModule",(function(){return H}));var e=o("ofXK"),i=o("tyNb"),r=o("fXoL"),s=o("XNiG");let c=(()=>{class t{constructor(){this.subject=new s.a,this.state=!1,this.observable=this.subject.asObservable()}start(){return this.next(!0)}stop(){return this.next(!1)}next(t){return t!==this.state&&(this.state=t,this.subject.next(this.state),!0)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var a=o("tk/3"),b=o("3Pt+"),l=o("LRne"),d=o("vkgz"),u=o("AytR"),h=function(t){return t.TODO="TODO",t.DOING="DOING",t.DONE="DONE",t}({});let g=(()=>{class t{constructor(t,n,o){this.builderService=t,this.http=n,this.loading=o,this.form=this.builderService.group({name:["",b.j.required],description:["",b.j.required]})}get(){return this.todoList?Object(l.a)(this.todoList):(this.loading.start(),this.http.get(u.a.jsonbin.url,{headers:new a.c({"secret-key":u.a.jsonbin.key})}).pipe(Object(d.a)(t=>{this.loading.stop(),this.todoList=t})))}post(t){return this.todoList.push(t),this.loading.start(),this.put(this.todoList).pipe(Object(d.a)(()=>this.loading.stop(),()=>this.todoList.pop()))}put(t){return this.http.put(u.a.jsonbin.url,t,{headers:new a.c({"secret-key":u.a.jsonbin.key,versioning:"false","Content-Type":"application/json"})})}delete(t){const n=this.todoList.indexOf(t);return this.todoList.splice(n,1),this.loading.start(),this.put(this.todoList).pipe(Object(d.a)(()=>this.loading.stop(),()=>this.todoList.splice(n,0,t)))}doing(){if(!this.form.valid)return this.get();const t={name:this.form.get("name").value,description:this.form.get("description").value,state:h.DOING};return this.post(t).pipe(Object(d.a)(()=>this.form.reset()))}done(t){return h.DONE==t.state?this.delete(t):(t.state=h.DONE,this.loading.start(),this.put(this.todoList).pipe(Object(d.a)(()=>this.loading.stop(),()=>t.state=h.DOING)))}findByName(t){return this.todo=this.todoList.find(n=>t===n.name)}}return t.\u0275fac=function(n){return new(n||t)(r.Ob(b.a),r.Ob(a.a),r.Ob(c))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=o("TEn/");function p(t,n){1&t&&(r.Kb(0,"ion-item"),r.Kb(1,"ion-avatar",4),r.Ib(2,"ion-skeleton-text",5),r.Jb(),r.Kb(3,"ion-label"),r.Ib(4,"ion-skeleton-text",6),r.Ib(5,"ion-skeleton-text",6),r.Jb(),r.Jb())}const m=function(){return[0,1,2,3,4]};function v(t,n){1&t&&(r.Kb(0,"ion-list"),r.fc(1,p,6,0,"ion-item",3),r.Jb()),2&t&&(r.xb(1),r.Xb("ngForOf",r.Yb(1,m)))}function O(t,n){if(1&t&&(r.Kb(0,"ion-grid"),r.Kb(1,"ion-row",7),r.Kb(2,"ion-col",8),r.hc(3),r.Jb(),r.Jb(),r.Jb()),2&t){const t=r.Ub(2);r.xb(3),r.jc(" ",0===(null==t.todoList?null:t.todoList.length)?"Let's start by adding a Todo":"An error occurs"," ")}}function S(t,n){if(1&t&&r.fc(0,O,4,1,"ion-grid",0),2&t){const t=r.Ub(),n=r.bc(4);r.Xb("ngIf",!(t.loadingService.state||null!=t.todoList&&t.todoList.length))("ngIfElse",n)}}const w=function(t){return[t]};function k(t,n){if(1&t&&(r.Kb(0,"ion-item",10),r.Ib(1,"ion-icon",11),r.Kb(2,"ion-label"),r.Kb(3,"h2"),r.hc(4),r.Jb(),r.Kb(5,"p"),r.hc(6),r.Jb(),r.Jb(),r.Jb()),2&t){const t=n.$implicit;r.Xb("routerLink",r.Zb(5,w,t.name))("color","DOING"==t.state?"success":"danger"),r.xb(1),r.Xb("name","DOING"==t.state?"flag-outline":"close"),r.xb(3),r.ic(t.name),r.xb(2),r.ic(t.description)}}function x(t,n){if(1&t&&(r.Kb(0,"ion-list"),r.fc(1,k,7,7,"ion-item",9),r.Jb()),2&t){const t=r.Ub();r.xb(1),r.Xb("ngForOf",t.todoList)}}let y=(()=>{class t{constructor(t,n){this.loadingService=t,this.todoService=n}ngOnInit(){this.show()}show(){this.todoService.get().subscribe(t=>this.todoList=t)}}return t.\u0275fac=function(n){return new(n||t)(r.Hb(c),r.Hb(g))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-todo-list"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["list",""],[4,"ngFor","ngForOf"],["slot","start"],["animated",""],["animated","",2,"width","100%"],[1,"ion-align-items-center","ion-justify-content-center","empty-message"],["size","6"],[3,"routerLink","color",4,"ngFor","ngForOf"],[3,"routerLink","color"],["slot","start",3,"name"]],template:function(t,n){if(1&t&&(r.fc(0,v,2,2,"ion-list",0),r.fc(1,S,1,2,"ng-template",null,1,r.gc),r.fc(3,x,2,1,"ng-template",null,2,r.gc)),2&t){const t=r.bc(2);r.Xb("ngIf",n.loadingService.state)("ngIfElse",t)}},directives:[e.i,f.n,e.h,f.l,f.b,f.r,f.m,f.h,f.q,f.e,i.h,f.y,f.j],styles:["[_nghost-%COMP%]{display:flex;min-height:100%}ion-list[_ngcontent-%COMP%]{padding:0;width:100%}.empty-message[_ngcontent-%COMP%]{text-align:center;height:100%;font-weight:200}"]}),t})();var I=o("jhN1");function C(t,n){if(1&t&&(r.Kb(0,"ion-col",4),r.Kb(1,"h2",5),r.hc(2),r.Jb(),r.Kb(3,"p",6),r.hc(4),r.Jb(),r.Jb()),2&t){const t=r.Ub();r.xb(2),r.jc(" ",t.todo.name," "),r.xb(2),r.jc(" ",t.todo.description," ")}}function J(t,n){if(1&t&&(r.Kb(0,"form",8),r.Kb(1,"ion-item",5),r.Kb(2,"ion-label",9),r.hc(3,"Todo"),r.Jb(),r.Ib(4,"ion-input",10),r.Jb(),r.Kb(5,"ion-item",6),r.Kb(6,"ion-label",9),r.hc(7,"Description"),r.Jb(),r.Ib(8,"ion-textarea",11),r.Jb(),r.Jb()),2&t){const t=r.Ub(2);r.Xb("formGroup",t.form)}}function K(t,n){if(1&t&&r.fc(0,J,9,1,"form",7),2&t){const t=r.Ub();r.Xb("ngIf",t.form)}}let j=(()=>{class t{constructor(t,n,o,e,i){this.loadingService=t,this.titleService=n,this.routeService=o,this.routerService=e,this.todoService=i}ngOnInit(){this.titleService.setTitle("Todo"),this.todoService.get().subscribe(()=>{const t=this.routeService.snapshot.params.name;t?(this.todo=this.todoService.findByName(t))||this.routerService.navigate(["/"]):this.form=this.todoService.form})}}return t.\u0275fac=function(n){return new(n||t)(r.Hb(c),r.Hb(I.b),r.Hb(i.a),r.Hb(i.g),r.Hb(g))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-todo"]],decls:5,vars:8,consts:[[1,"ion-no-padding"],[1,"ion-align-items-center","ion-justify-content-center"],["size","9",4,"ngIf","ngIfElse"],["todoForm",""],["size","9"],[1,"name"],[1,"description"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["position","floating"],["formControlName","name"],["formControlName","description"]],template:function(t,n){if(1&t&&(r.Kb(0,"ion-grid",0),r.Kb(1,"ion-row",1),r.fc(2,C,5,2,"ion-col",2),r.Jb(),r.Jb(),r.fc(3,K,1,1,"ng-template",null,3,r.gc)),2&t){const t=r.bc(4);r.xb(1),r.zb("doing","DOING"==(null==n.todo?null:n.todo.state))("done","DONE"==(null==n.todo?null:n.todo.state))("todo",n.form),r.xb(1),r.Xb("ngIf",n.todo)("ngIfElse",t)}},directives:[f.h,f.q,e.i,f.e,b.k,b.h,b.c,f.l,f.m,f.k,f.z,b.g,b.b,f.s],styles:["[_nghost-%COMP%]{display:flex;min-height:100%;justify-content:center}form[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:transparent;--color:var(--ion-color-light)}form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{text-align:center}ion-row[_ngcontent-%COMP%]{color:var(--ion-color-light);height:100%;padding-bottom:2em}ion-row.todo[_ngcontent-%COMP%]{background-color:var(--ion-color-primary)}ion-row.doing[_ngcontent-%COMP%]{background-color:var(--ion-color-success)}ion-row.done[_ngcontent-%COMP%]{background-color:var(--ion-color-danger)}ion-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:300;font-size:3em}ion-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:300;font-size:.8m}"]}),t})();function L(t,n){if(1&t){const t=r.Lb();r.Kb(0,"ion-buttons",6),r.Sb("click",(function(){return r.cc(t),r.Ub().locationService.back()})),r.Kb(1,"ion-button",7),r.Ib(2,"ion-icon",8),r.Jb(),r.Jb()}}function P(t,n){1&t&&r.Ib(0,"ion-progress-bar",9)}function M(t,n){if(1&t&&(r.Kb(0,"ion-button",10),r.hc(1,"Todo"),r.Jb()),2&t){const t=r.Ub();r.Xb("disabled",t.loadingService.state)}}function _(t,n){if(1&t){const t=r.Lb();r.Kb(0,"ion-button",11),r.Sb("click",(function(){return r.cc(t),r.Ub().doing()})),r.hc(1,"Doing"),r.Jb()}if(2&t){const t=r.Ub();r.Xb("disabled",t.loadingService.state)}}function D(t,n){if(1&t){const t=r.Lb();r.Kb(0,"ion-button",12),r.Sb("click",(function(){return r.cc(t),r.Ub().done()})),r.hc(1," Done "),r.Jb()}if(2&t){const t=r.Ub();r.Xb("disabled",t.loadingService.state)}}const N=[{path:"",component:(()=>{class t{constructor(t,n,o,e,i,r){this.changeService=t,this.routerService=n,this.todoService=o,this.titleService=e,this.locationService=i,this.loadingService=r}ngOnInit(){this.routerService.events.subscribe(t=>{t instanceof i.c&&(this.titleService.setTitle("Todo's"),this.url=this.routerService.url)})}ngAfterContentChecked(){this.changeService.detectChanges()}done(){this.todoService.done(this.todoService.todo).subscribe(()=>this.routerService.navigate(["/"]))}doing(){this.todoService.doing().subscribe(()=>this.routerService.navigate(["/"]))}}return t.\u0275fac=function(n){return new(n||t)(r.Hb(r.h),r.Hb(i.g),r.Hb(g),r.Hb(I.b),r.Hb(e.f),r.Hb(c))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-todos"]],decls:13,vars:6,consts:[["slot","start",3,"click",4,"ngIf"],["type","indeterminate",4,"ngIf"],[3,"ngSwitch"],["routerLink","/new","expand","full","color","primary",3,"disabled",4,"ngSwitchCase"],["expand","full","color","success",3,"disabled","click",4,"ngSwitchCase"],["expand","full","color","danger",3,"disabled","click",4,"ngSwitchDefault"],["slot","start",3,"click"],["color","dark"],["slot","icon-only","name","arrow-back-outline"],["type","indeterminate"],["routerLink","/new","expand","full","color","primary",3,"disabled"],["expand","full","color","success",3,"disabled","click"],["expand","full","color","danger",3,"disabled","click"]],template:function(t,n){1&t&&(r.Kb(0,"ion-app"),r.Kb(1,"ion-header"),r.Kb(2,"ion-toolbar"),r.fc(3,L,3,0,"ion-buttons",0),r.Kb(4,"ion-title"),r.hc(5),r.Jb(),r.Jb(),r.Jb(),r.Kb(6,"ion-content"),r.fc(7,P,1,0,"ion-progress-bar",1),r.Ib(8,"router-outlet"),r.Jb(),r.Kb(9,"ion-footer",2),r.fc(10,M,2,1,"ion-button",3),r.fc(11,_,2,1,"ion-button",4),r.fc(12,D,2,1,"ion-button",5),r.Jb(),r.Jb()),2&t&&(r.xb(3),r.Xb("ngIf","/"!==n.url),r.xb(2),r.ic(n.titleService.getTitle()),r.xb(2),r.Xb("ngIf",n.loadingService.state),r.xb(2),r.Xb("ngSwitch",n.url),r.xb(1),r.Xb("ngSwitchCase","/"),r.xb(1),r.Xb("ngSwitchCase","/new"))},directives:[f.a,f.i,f.u,e.i,f.t,f.f,i.j,f.g,e.j,e.k,e.l,f.d,f.c,f.j,f.o,i.h,f.y],styles:["ion-progress-bar[_ngcontent-%COMP%]{position:absolute;z-index:9}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0!important;height:3.5rem}"]}),t})(),children:[{path:"",component:y},{path:"new",component:j},{path:":name",component:j}]}];let X=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(n){return new(n||t)},imports:[[i.i.forChild(N)]]}),t})();var E=o("PCNd");let H=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(n){return new(n||t)},imports:[[e.b,E.a,X]]}),t})()}}]);